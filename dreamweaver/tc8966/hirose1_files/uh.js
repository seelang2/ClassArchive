!function e(t,o,r){function n(s,a){if(!o[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=o[s]={exports:{}};t[s][0].call(u.exports,function(e){var o=t[s][1][e];return n(o?o:e)},u,u.exports,e,t,o,r)}return o[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(e,t,o){(function(e){(function(){function r(e,t){function o(e){if(o[e]!==p)return o[e];var r;if("bug-string-char-index"==e)r="a"!="a"[0];else if("json"==e)r=o("json-stringify")&&o("json-parse");else{var i;if("json-stringify"==e){r=t.stringify;var a="function"==typeof r&&g;if(a){(i=function(){return 1}).toJSON=i;try{a="0"===r(0)&&"0"===r(new n)&&'""'==r(new s)&&r(E)===p&&r(p)===p&&r()===p&&"1"===r(i)&&"[1]"==r([i])&&"[null]"==r([p])&&"null"==r(null)&&"[null,null,null]"==r([p,E,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==r({a:[i,!0,!1,null,"\x00\b\n\f\r	"]})&&"1"===r(null,i)&&"[\n 1,\n 2\n]"==r([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==r(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==r(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==r(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==r(new l(-1))}catch(c){a=!1}}r=a}if("json-parse"==e){if(r=t.parse,"function"==typeof r)try{if(0===r("0")&&!r(!1)){i=r('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var u=5==i.a.length&&1===i.a[0];if(u){try{u=!r('"	"')}catch(d){}if(u)try{u=1!==r("01")}catch(f){}if(u)try{u=1!==r("1.")}catch(h){}}}}catch(m){u=!1}r=u}}return o[e]=!!r}e||(e=a.Object()),t||(t=a.Object());var n=e.Number||a.Number,s=e.String||a.String,c=e.Object||a.Object,l=e.Date||a.Date,u=e.SyntaxError||a.SyntaxError,d=e.TypeError||a.TypeError,f=e.Math||a.Math,h=e.JSON||a.JSON;"object"==typeof h&&h&&(t.stringify=h.stringify,t.parse=h.parse);var m,y,p,c=c.prototype,E=c.toString,g=new l(-0xc782b5b800cec);try{g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()}catch(v){}if(!o("json")){var w=o("bug-string-char-index");if(!g)var b=f.floor,U=[0,31,59,90,120,151,181,212,243,273,304,334],L=function(e,t){return U[t]+365*(e-1970)+b((e-1969+(t=+(t>1)))/4)-b((e-1901+t)/100)+b((e-1601+t)/400)};if((m=c.hasOwnProperty)||(m=function(e){var t,o={};return(o.__proto__=null,o.__proto__={toString:1},o).toString!=E?m=function(e){var t=this.__proto__;return e=e in(this.__proto__=null,this),this.__proto__=t,e}:(t=o.constructor,m=function(e){var o=(this.constructor||t).prototype;return e in this&&!(e in o&&this[e]===o[e])}),o=null,m.call(this,e)}),y=function(e,t){var o,r,n,s=0;(o=function(){this.valueOf=0}).prototype.valueOf=0,r=new o;for(n in r)m.call(r,n)&&s++;return o=r=null,s?y=2==s?function(e,t){var o,r={},n="[object Function]"==E.call(e);for(o in e)n&&"prototype"==o||m.call(r,o)||!(r[o]=1)||!m.call(e,o)||t(o)}:function(e,t){var o,r,n="[object Function]"==E.call(e);for(o in e)n&&"prototype"==o||!m.call(e,o)||(r="constructor"===o)||t(o);(r||m.call(e,o="constructor"))&&t(o)}:(r="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),y=function(e,t){var o,n="[object Function]"==E.call(e),s=!n&&"function"!=typeof e.constructor&&i[typeof e.hasOwnProperty]&&e.hasOwnProperty||m;for(o in e)n&&"prototype"==o||!s.call(e,o)||t(o);for(n=r.length;o=r[--n];s.call(e,o)&&t(o));}),y(e,t)},!o("json-stringify")){var T={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},C=function(e,t){return("000000"+(t||0)).slice(-e)},M=function(e){for(var t='"',o=0,r=e.length,n=!w||r>10,i=n&&(w?e.split(""):e);r>o;o++){var s=e.charCodeAt(o);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=T[s];break;default:if(32>s){t+="\\u00"+C(2,s.toString(16));break}t+=n?i[o]:e.charAt(o)}}return t+'"'},S=function(e,t,o,r,n,i,s){var a,c,l,u,f,h,g,v,w;try{a=t[e]}catch(U){}if("object"==typeof a&&a)if(c=E.call(a),"[object Date]"!=c||m.call(a,"toJSON"))"function"==typeof a.toJSON&&("[object Number]"!=c&&"[object String]"!=c&&"[object Array]"!=c||m.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&1/0>a){if(L){for(u=b(a/864e5),c=b(u/365.2425)+1970-1;L(c+1,0)<=u;c++);for(l=b((u-L(c,0))/30.42);L(c,l+1)<=u;l++);u=1+u-L(c,l),f=(a%864e5+864e5)%864e5,h=b(f/36e5)%24,g=b(f/6e4)%60,v=b(f/1e3)%60,f%=1e3}else c=a.getUTCFullYear(),l=a.getUTCMonth(),u=a.getUTCDate(),h=a.getUTCHours(),g=a.getUTCMinutes(),v=a.getUTCSeconds(),f=a.getUTCMilliseconds();a=(0>=c||c>=1e4?(0>c?"-":"+")+C(6,0>c?-c:c):C(4,c))+"-"+C(2,l+1)+"-"+C(2,u)+"T"+C(2,h)+":"+C(2,g)+":"+C(2,v)+"."+C(3,f)+"Z"}else a=null;if(o&&(a=o.call(t,e,a)),null===a)return"null";if(c=E.call(a),"[object Boolean]"==c)return""+a;if("[object Number]"==c)return a>-1/0&&1/0>a?""+a:"null";if("[object String]"==c)return M(""+a);if("object"==typeof a){for(e=s.length;e--;)if(s[e]===a)throw d();if(s.push(a),w=[],t=i,i+=n,"[object Array]"==c){for(l=0,e=a.length;e>l;l++)c=S(l,a,o,r,n,i,s),w.push(c===p?"null":c);e=w.length?n?"[\n"+i+w.join(",\n"+i)+"\n"+t+"]":"["+w.join(",")+"]":"[]"}else y(r||a,function(e){var t=S(e,a,o,r,n,i,s);t!==p&&w.push(M(e)+":"+(n?" ":"")+t)}),e=w.length?n?"{\n"+i+w.join(",\n"+i)+"\n"+t+"}":"{"+w.join(",")+"}":"{}";return s.pop(),e}};t.stringify=function(e,t,o){var r,n,s,a;if(i[typeof t]&&t)if("[object Function]"==(a=E.call(t)))n=t;else if("[object Array]"==a){s={};for(var c,l=0,u=t.length;u>l;c=t[l++],a=E.call(c),("[object String]"==a||"[object Number]"==a)&&(s[c]=1));}if(o)if("[object Number]"==(a=E.call(o))){if(0<(o-=o%1))for(r="",o>10&&(o=10);r.length<o;r+=" ");}else"[object String]"==a&&(r=10>=o.length?o:o.slice(0,10));return S("",(c={},c[""]=e,c),n,s,r,"",[])}}if(!o("json-parse")){var A,O,j=s.fromCharCode,P={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},k=function(){throw A=O=null,u()},I=function(){for(var e,t,o,r,n,i=O,s=i.length;s>A;)switch(n=i.charCodeAt(A)){case 9:case 10:case 13:case 32:A++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=w?i.charAt(A):i[A],A++,e;case 34:for(e="@",A++;s>A;)if(n=i.charCodeAt(A),32>n)k();else if(92==n)switch(n=i.charCodeAt(++A)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=P[n],A++;break;case 117:for(t=++A,o=A+4;o>A;A++)n=i.charCodeAt(A),n>=48&&57>=n||n>=97&&102>=n||n>=65&&70>=n||k();e+=j("0x"+i.slice(t,A));break;default:k()}else{if(34==n)break;for(n=i.charCodeAt(A),t=A;n>=32&&92!=n&&34!=n;)n=i.charCodeAt(++A);e+=i.slice(t,A)}if(34==i.charCodeAt(A))return A++,e;k();default:if(t=A,45==n&&(r=!0,n=i.charCodeAt(++A)),n>=48&&57>=n){for(48==n&&(n=i.charCodeAt(A+1),n>=48&&57>=n)&&k();s>A&&(n=i.charCodeAt(A),n>=48&&57>=n);A++);if(46==i.charCodeAt(A)){for(o=++A;s>o&&(n=i.charCodeAt(o),n>=48&&57>=n);o++);o==A&&k(),A=o}if(n=i.charCodeAt(A),101==n||69==n){for(n=i.charCodeAt(++A),43!=n&&45!=n||A++,o=A;s>o&&(n=i.charCodeAt(o),n>=48&&57>=n);o++);o==A&&k(),A=o}return+i.slice(t,A)}if(r&&k(),"true"==i.slice(A,A+4))return A+=4,!0;if("false"==i.slice(A,A+5))return A+=5,!1;if("null"==i.slice(A,A+4))return A+=4,null;k()}return"$"},N=function(e){var t,o;if("$"==e&&k(),"string"==typeof e){if("@"==(w?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=I(),"]"!=e;o||(o=!0))o&&(","==e?(e=I(),"]"==e&&k()):k()),","==e&&k(),t.push(N(e));return t}if("{"==e){for(t={};e=I(),"}"!=e;o||(o=!0))o&&(","==e?(e=I(),"}"==e&&k()):k()),","!=e&&"string"==typeof e&&"@"==(w?e.charAt(0):e[0])&&":"==I()||k(),t[e.slice(1)]=N(I());return t}k()}return e},R=function(e,t,o){o=F(e,t,o),o===p?delete e[t]:e[t]=o},F=function(e,t,o){var r,n=e[t];if("object"==typeof n&&n)if("[object Array]"==E.call(n))for(r=n.length;r--;)R(n,r,o);else y(n,function(e){R(n,e,o)});return o.call(e,t,n)};t.parse=function(e,t){var o,r;return A=0,O=""+e,o=N(I()),"$"!=I()&&k(),A=O=null,t&&"[object Function]"==E.call(t)?F((r={},r[""]=o,r),"",t):o}}}return t.runInContext=r,t}var n="function"==typeof define&&define.amd,i={"function":!0,object:!0},s=i[typeof o]&&o&&!o.nodeType&&o,a=i[typeof window]&&window||this,c=s&&i[typeof t]&&t&&!t.nodeType&&"object"==typeof e&&e;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(a=c),s&&!n)r(a,s);else{var l=a.JSON,u=a.JSON3,d=!1,f=r(a,a.JSON3={noConflict:function(){return d||(d=!0,a.JSON=l,a.JSON3=u,l=u=null),f}});a.JSON={parse:f.parse,stringify:f.stringify}}n&&define(function(){return f})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,o){if(!document.JSON)var r=e("./lib/json3.min.js");Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=o.length;return function(n){if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Object.keys called on non-object");var i=[];for(var s in n)e.call(n,s)&&i.push(s);if(t)for(var a=0;r>a;a++)e.call(n,o[a])&&i.push(o[a]);return i}}()),Userlocal=function(){},Userlocal.Entry=function(e,t,o,r){this.id=e,this.rand=this.randobet(7),this.initTime=t,this.url=o?o:document.URL,this.subject=r?r:document.title,this.host="//uh0.nakanohito.jp/uhb2/",this.dynMousePositionPeriod=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,5,5,5,5,5,5,5,5,5,5,12,12,12,12,12,12,12,12,12,12],this.dpr=void 0!=window.devicePixelRatio?window.devicePixelRatio:0,this.domain1="nakanohito.jp",this.domain2="userlocal.jp",this.formSubmitAction=!1,this.formRecord={},this.domRecord={},this.maxAddFormCount=50,this.formCount=0,this.domIDRecord={},this.domLabel={},this.endFlag=!1,this.checkSetForm=!1,this.tapEnable=!1,this.focusForm="",this.domNameList={}},Userlocal.Entry.eventInit=function(e){if(document.body){Userlocal.Entry.addEventListener(document.body,"mouseup",function(t){e.mouseClick(t)}),"mousewheel"in document.body||"onmousewheel"in document.body?Userlocal.Entry.addEventListener(document.body,"mousewheel",function(t){e.mouseScroll(t)}):"DOMMouseScroll"in document.body?Userlocal.Entry.addEventListener(document.body,"DOMMouseScroll",function(t){e.mouseScroll(t)}):"onwheel"in document.body&&Userlocal.Entry.addEventListener(document.body,"wheel",function(t){e.mouseScroll(t)}),Userlocal.Entry.addEventListener(document.body,"mousemove",function(t){e.mouseMove(t)});for(var t=["input","textarea","button","select","form"],o=0;o<t.length;o++)for(var r=document.getElementsByTagName(t[o]),n=0;n<r.length;n++)"form"==t[o]?(e.checkSetForm=!0,Userlocal.Entry.addEventListener(r[n],"submit",function(t){e.formSubmit(t)})):("submit"!==r[n].type.toLowerCase()||Userlocal.Entry.Browser.IE5||Userlocal.Entry.Browser.IE6||Userlocal.Entry.Browser.IE7||Userlocal.Entry.Browser.IE8||Userlocal.Entry.Browser.IE9||Userlocal.Entry.addEventListener(r[n],"click",function(t){var o=e.getParentElement("FORM",this,e);o&&e.domList(e.formErrorLog,"form",["INPUT","SELECT","TEXTAREA"],o.getAttribute("action"))}),"radio"===r[n].type.toLowerCase()||"checkbox"===r[n].type.toLocaleLowerCase()?Userlocal.Entry.addEventListener(r[n],"change",function(t){e.formChange(t)}):(Userlocal.Entry.addEventListener(r[n],"focus",function(t){e.formFocus(t)}),Userlocal.Entry.addEventListener(r[n],"blur",function(t){e.formBlur(t)})));"ontouchstart"in document.body&&(Userlocal.Entry.addEventListener(document.body,"touchstart",function(t){"undefined"!=typeof event?t.pageX||(t=event.touches[0]):t.touches&&(t=t.touches[0]),e.tapEnable=!0,e.mouseMove(t)}),Userlocal.Entry.addEventListener(document.body,"touchmove",function(t){"undefined"!=typeof event?t.pageX||(t=event.touches[0]):t.touches&&(t=t.touches[0]),e.tapEnable=!1,e.mouseMove(t)}),Userlocal.Entry.addEventListener(document.body,"touchend",function(t){if("undefined"!=typeof event?t.pageX||(t=event.touches[0]):t.touches&&(t=t.touches[0]),e.tapEnable){var o=!1;"mouseup"in document.body&&(e.removeEventListener("mouseup"),o=!0),e.tapEnable=!1,e.mouseClick(t),o&&Userlocal.Entry.addEventListener(document.body,"mouseup",function(t){e.mouseClick(t)})}}))}},Userlocal.Entry.prototype.init=function(){if("undefined"==typeof Userlocal.Entry.flagAlreadyInit){Userlocal.Entry.flagAlreadyInit=!0;var e=this;if(this.image_url=this.host,!this.host.match(this.domain1)&&!this.host.match(this.domain2))return!1;if(Userlocal.Entry.Browser.IE5||Userlocal.Entry.Browser.IE6)return!1;Userlocal.Entry.addEventListener(window,"unload",function(){e.end(),Userlocal.Entry.removeAllEventListeners()}),"onpagehide"in window?Userlocal.Entry.addEventListener(window,"pagehide",function(t){e.end(),Userlocal.Entry.removeAllEventListeners()}):"beforeunload"in window&&Userlocal.Entry.addEventListener(window,"beforeunload",function(t){e.end(),Userlocal.Entry.removeAllEventListeners()}),"complete"==document.readyState?Userlocal.Entry.eventInit(e):Userlocal.Entry.addEventListener(document,"readystatechange",function(){"complete"==document.readyState&&Userlocal.Entry.eventInit(e)}),e.start()}},Userlocal.Entry.checkIE=function(){return-1!==this.checkBrowser().indexOf("ie")},Userlocal.Entry.checkIEVersion=function(e){var t=window.navigator.userAgent.toLowerCase(),o=window.navigator.appVersion.toLowerCase();return-1!=t.indexOf("msie")?-1!=o.indexOf(e):-1!=o.indexOf(e)},Userlocal.Entry.checkOpera=function(){return"opera"==this.checkBrowser()},Userlocal.Entry.checkBrowser=function(){var e=window.navigator.userAgent.toLowerCase(),t=window.navigator.appVersion.toLowerCase(),o="unknown";return-1!=e.indexOf("msie")?o=-1!=t.indexOf("msie 6.")?"ie6":-1!=t.indexOf("msie 7.")?"ie7":-1!=t.indexOf("msie 8.")?"ie8":-1!=t.indexOf("msie 9.")?"ie9":-1!=t.indexOf("msie 10.")?"ie10":"ie":-1!=e.indexOf("trident/7")?o="ie11":-1!=e.indexOf("chrome")?o="chrome":-1!=e.indexOf("safari")?o="safari":-1!=e.indexOf("opera")?o="opera":-1!=e.indexOf("firefox")&&(o="firefox"),o},Userlocal.Entry.Browser={IE:Userlocal.Entry.checkIE(),IE5:Userlocal.Entry.checkIEVersion("msie 5."),IE6:Userlocal.Entry.checkIEVersion("msie 6."),IE7:Userlocal.Entry.checkIEVersion("msie 7."),IE8:Userlocal.Entry.checkIEVersion("msie 8."),IE9:Userlocal.Entry.checkIEVersion("msie 9."),IE10:Userlocal.Entry.checkIEVersion("msie 10."),IE11:Userlocal.Entry.checkIEVersion("trident/7."),Opera:Userlocal.Entry.checkOpera(),ModeStd:document.compatMode&&"BackCompat"!=document.compatMode},Userlocal.Entry.addEventListener=function(e,t,o){Userlocal.Entry.listeners||(Userlocal.Entry.listeners=new Array),Userlocal.Entry.listeners.push({elem:e,event:t,func:o}),window.addEventListener&&!Userlocal.Entry.Browser.Opera?e.addEventListener(t,o,!1):window.attachEvent&&(t=this.convertEvent(t),e.attachEvent("on"+t,o))},Userlocal.Entry.convertEvent=function(e){return"DOMMouseScroll"==e&&(e="mousewheel"),e},Userlocal.Entry.removeEventListeners=function(e){if(Userlocal.Entry.listeners)for(var t=0;t<Userlocal.Entry.listeners.length;t++){var o=Userlocal.Entry.listeners[t],r=o.elem;if(e==r){var n=o.event,i=o.func;window.addEventListener?e.removeEventListener(n,i,!1):window.attachEvent&&(n=this.convertEvent(n),e.detachEvent("on"+n,i))}}},Userlocal.Entry.removeAllEventListeners=function(){if(Userlocal.Entry.listeners)for(var e=0;e<Userlocal.Entry.listeners.length;e++){var t=Userlocal.Entry.listeners[e],o=t.elem,r=t.event,n=t.func;window.addEventListener?o.removeEventListener(r,n,!1):window.attachEvent&&(r=this.convertEvent(r),o.detachEvent("on"+r,n))}},Userlocal.Entry.prototype.mouseClick=function(e){e||(e=window.event);var t=e.srcElement?e.srcElement:e.target;t&&this.setMouseClick(t,e)},Userlocal.Entry.prototype.setMouseClick=function(e,t){var o=e.nodeName;o&&(this.lastClickTime=(new Date).getTime(),"A"==o.toUpperCase()?(this.lastClickHref=e.href,this.addMousePosition(t)):this.addMousePosition(t))},Userlocal.Entry.prototype.addMousePosition=function(e){if(this.eventPosition(e)){this.mouseTimes||(this.mouseTimes=0),this.mouseTimes++,this.mousePositionRecord||(this.mousePositionRecord=new Array),this._eventPosition||(this._eventPosition="");var t=this.eventPosition(e);t.x!=this._eventPosition.x&&t.y!=this._eventPosition.y&&t.t!=this._eventPosition.t&&this.mousePositionRecord.push(t),this._eventPosition=t}},Userlocal.Entry.prototype.getMousePositions=function(){if(this.mousePositionRecord){for(var e=new Array,t=0;t<this.mousePositionRecord.length;t++){var o=this.mousePositionRecord[t];e.push([o.x,o.y,o.t,o.st,o.sb])}return this.joinShort(e,100)}return null},Userlocal.Entry.prototype.mouseScroll=function(e){if(!e)var e=window.event;var t=0;e.wheelDelta?(t=e.wheelDelta/120,window.opera&&(t=-t)):e.detail?t=-e.detail/3:e.deltaY&&(t=e.deltaY>0?1:-1),t>0?this.mouseWheelUp+=parseInt(t):this.mouseWheelDown+=-parseInt(t)},Userlocal.Entry.prototype.eventPosition=function(e){var t=0,o=0;e.pageX?(t=e.pageX,o=e.pageY):(t=e.clientX+document.documentElement.scrollLeft,o=e.clientY+document.documentElement.scrollTop),Userlocal.Entry.Browser.IE&&Userlocal.Entry.Browser.ModeStd&&(t-=2,o-=2);var r=0;Userlocal.Entry.Browser.ModeStd?r=window.pageYOffset||document.documentElement.scrollTop:document.body&&(r=window.pageYOffset||document.body.scrollTop);var n=r+this.getWindowSize().height;return t&&o?{x:parseInt(t),y:parseInt(o),t:Math.floor(((new Date).getTime()-this.startTime)/100),st:parseInt(r),sb:parseInt(n)}:null},Userlocal.Entry.prototype.mouseMove=function(e){this.startMousePosition||(this.startMousePosition=this.eventPosition(e)),this.dynMousePositionRecord||(this.dynMousePositionRecord=new Array,this.dynMousePositionTime=this.startTime);var t=this.dynMousePositionRecord.length;if(t<this.dynMousePositionPeriod.length){var o=((new Date).getTime()-this.dynMousePositionTime)/1e3;if(o>this.dynMousePositionPeriod[t]){this.dynMousePositionTime=(new Date).getTime();var r=this.eventPosition(e);this.dynMousePositionRecord.push(r)}}},Userlocal.Entry.prototype.formFocus=function(e){e||(e=window.event);var t=e.srcElement?e.srcElement:e.target;t&&this.addFormFocus(t,e)},Userlocal.Entry.prototype.addFormFocus=function(e,t){this.addForm(e,"focus")},Userlocal.Entry.prototype.formBlur=function(e){e||(e=window.event);var t=e.srcElement?e.srcElement:e.target;t&&this.addFormBlur(t,e)},Userlocal.Entry.prototype.addFormBlur=function(e,t){this.addForm(e,"blur")},Userlocal.Entry.prototype.formChange=function(e){e||(e=window.event);var t=e.srcElement?e.srcElement:e.target;t&&(0==Object.keys(this.domRecord).length&&(this.focusFlag=!0),this.addFormChange(t,e))},Userlocal.Entry.prototype.addFormChange=function(e,t){this.addForm(e,"change")},Userlocal.Entry.prototype.addForm=function(e,t){if(this.formCount<this.maxAddFormCount){this.formCount++;var o="",r="",n="";if(e.form)"undefined"!=typeof e.form.getAttribute("action")&&(this.formRecord[e.form.getAttribute("action")]||(this.formRecord[e.form.getAttribute("action")]=[])),"undefined"!=typeof e.form.getAttribute("action")&&(o=e.form.getAttribute("action"),r=e.name,n=e);else if("submit"==t){o=e.getAttribute("action"),r=e.name?e.name:"";for(var i=e.getElementsByTagName("input"),s=e.getElementsByTagName("button"),a=0;a<i.length;a++)if("submit"==i[a].getAttribute("type")){n=i[a];break}if(""==n)for(var a=0;a<s.length;a++)if("submit"==s[a].getAttribute("type")){n=s[a];break}Userlocal.Entry.Browser.IE||this.domList(this.formDomList,"form",["INPUT","SELECT","TEXTAREA","LABEL"])}else"undefined"!=typeof e.getAttribute("action")&&(o=e.getAttribute("action"),r=e.name?e.name:"",n=e);""==o&&""==r||this.setForm(o,t,r,n)}},Userlocal.Entry.prototype.setForm=function(e,t,o,r){var n=this.getElementPosition(r);this.focusForm=e,this.formRecord[e][this.formRecord[e].length]=[t,o,Math.floor(((new Date).getTime()-this.startTime)/100),n.x,n.y]},Userlocal.Entry.prototype.formSubmit=function(e){e||(e=window.event);var t=e.srcElement?e.srcElement:e.target;t&&this.addFormSubmit(t,e)},Userlocal.Entry.prototype.addFormSubmit=function(e,t){this.formSubmitAction=!0,e.name=e.name?e.name:"",this.lastClickTime=(new Date).getTime(),this.addForm(e,"submit")},Userlocal.Entry.prototype.formErrorLog=function(e,t,o){var r=o.amongErrorLog(t);r&&o.addFormErrorLog(e,t,r,o)},Userlocal.Entry.prototype.amongErrorLog=function(e){switch(!1){case!e.validity.valueMissing:return"valMis";case!e.validity.typeMismatch:return"typeMis";case!e.validity.patternMismatch:return"patMis";case!e.validity.tooLong:return"tooLong";case!e.validity.rangeUnderflow:return"ranUnder";case!e.validity.rangeOverflow:return"rangeOver";case!e.validity.stepMismatch:return"stepMis";case!e.validity.customError:return"cusErr"}return null},Userlocal.Entry.prototype.addFormErrorLog=function(e,t,o,r){var n=e?e:"",i=t.name?t.name:"";r.setFormErrorLog(n,i,o,r)},Userlocal.Entry.prototype.setFormErrorLog=function(e,t,o,r){"undefined"!=typeof e&&(r.formRecord[e]||(r.formRecord[e]=[])),r.formRecord[e][r.formRecord[e].length]=["error",t,o]},Userlocal.Entry.prototype.domList=function(e,t,o,r){var n=document.getElementsByTagName(t);if(r)for(var i=0;i<n.length;i++)n[i].getAttribute("action")==r&&this.childDomList(n[i],e,o);else for(var i=0;i<n.length;i++)this.childDomList(n[i],e,o)},Userlocal.Entry.prototype.childDomList=function(e,t,o,r){for(var n=r?r.children:e.children,i=0;i<n.length;i++)for(var s=0;s<o.length;s++)if("SELECT"==n[i].tagName)o[s]==n[i].tagName&&t(e.getAttribute("action"),n[i],this);else{if(n[i].children.length>0){r=n[i],this.childDomList(e,t,o,r);break}o[s]==n[i].tagName&&t(e.getAttribute("action"),n[i],this)}},Userlocal.Entry.prototype.formDomList=function(e,t,o){var r=t.required,n="";if("INPUT"==t.tagName?n=t.type?t.type.toLowerCase():t.type:"LABEL"!=t.tagName&&(n=t.tagName.toLowerCase()),"hidden"!=n){var i=t,s=o.getElementPosition(i),a="";a="submit"==n?t.value:t.getAttribute("placeholder"),o.addFormDomList(e,t.name,s.x,s.y,r,o,a,t,n)}},Userlocal.Entry.prototype.getElementPosition=function(e){var t,o,r=e.getBoundingClientRect();Userlocal.Entry.Browser.ModeStd?(t=window.pageYOffset||document.documentElement.scrollTop,o=window.pageXOffset||document.documentElement.scrollLeft):document.body&&(t=window.pageYOffset||document.body.scrollTop,o=window.pageXOffset||document.body.scrollLeft);var n=parseInt(r.left+o),i=parseInt(r.top+t);return{x:n,y:i}},Userlocal.Entry.prototype.addFormDomList=function(e,t,o,r,n,i,s,a,c){if("undefined"!=typeof e&&(i.domRecord[e]||(i.domRecord[e]=[],i.domIDRecord[e]=[],i.domNameList[e]=[])),n||(n=0),s||(s=""),"LABEL"==a.tagName)i.addLabel(e,a,i);else{var l=0;if("SELECT"==a.tagName)""!=a.value&&(l=1);else if("INPUT"==a.tagName)if("radio"==a.type.toLowerCase()||"checkbox"==a.type.toLowerCase()){for(var u=document.getElementsByName(t),d=0;d<u.length;d++)u[d].checked&&(l=1);s="x"}else"submit"==a.type.toLowerCase()||a.value&&(l=1);else a.value&&(l=1);i.checkDomNameList(t)||(i.domRecord[e][i.domRecord[e].length]=[t,o,r,n,s,l,c],i.domIDRecord[e][i.domIDRecord[e].length]=a.id,i.domNameList[e][i.domNameList[e].length]=t)}},Userlocal.Entry.prototype.addLabel=function(e,t,o){"undefined"!=typeof e&&(o.domLabel[e]||(o.domLabel[e]=[])),o.domLabel[e][o.domLabel[e].length]=[t.getAttribute("for"),t.textContent]},Userlocal.Entry.prototype.getDom=function(){if(this.domRecord){this.setLabel();var e={};return e[this.focusForm]=this.domRecord[this.focusForm],e}return null},Userlocal.Entry.prototype.setLabel=function(){for(key in this.domIDRecord)for(i in this.domIDRecord[key])for(j in this.domLabel[key])this.domIDRecord[key][i]==this.domLabel[key][j][0]&&this.domLabel[key][j][0]&&"x"!=this.domRecord[key][i][4]?this.domRecord[key][i][4]=this.domLabel[key][j][1]:"x"==this.domRecord[key][i][4]&&(this.domRecord[key][i][4]="")},Userlocal.Entry.prototype.checkDomNameList=function(e){for(key in this.domNameList)for(i in this.domNameList[key])if(this.domNameList[key][i]==e)return!0;return!1},Userlocal.Entry.prototype.getParentElement=function(e,t,o){o=o?o:this;var r=t.parentNode;return r.tagName===e?r:"HTML"===r.tagName||"BODY"===r.tagName||"HEAD"===r.tagName||"undefined"==typeof r.tagName?!1:o.getParentElement(e,r,o)},Userlocal.Entry.prototype.getWindowSize=function(){var e=null,t=null;return Userlocal.Entry.Browser.ModeStd?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(e=document.body.clientWidth,t=document.body.clientHeight),{width:e,height:t}},Userlocal.Entry.prototype.getScreenSize=function(){var e=screen.width,t=screen.height;return{width:e,height:t}},Userlocal.Entry.prototype.getStartMousePosition=function(){return this.startMousePosition?[this.startMousePosition.x,this.startMousePosition.y]:null},Userlocal.Entry.prototype.getDynMousePositions=function(){if(this.dynMousePositionRecord){for(var e=new Array,t=0;t<this.dynMousePositionRecord.length;t++){var o=this.dynMousePositionRecord[t];e.push([o.x,o.y,o.t,o.st,o.sb])}return this.joinShort(e,100)}return null},Userlocal.Entry.prototype.getForm=function(){if(this.formRecord){var e={};return e[this.focusForm]=this.formRecord[this.focusForm],e}return null},Userlocal.Entry.prototype.joinShort=function(e,t){for(var o=new Array,r=0,n=0;n<e.length&&(r++,!(r>t));n++)o.push(e[n]);return o},Userlocal.Entry.prototype.randobet=function(e){for(var t="0123456789".split(""),o="",r=0;e>r;r++)o+=t[Math.floor(Math.random()*t.length)];return o},Userlocal.Entry.prototype.getPeriod=function(){return this.startTime&&this.lastTime?this.lastTime-this.startTime:null},Userlocal.Entry.prototype.start=function(){this.startTime=(new Date).getTime(),this.mouseWheelUp=0,this.mouseWheelDown=0},Userlocal.Entry.prototype.end=function(e){if(this.endFlag)return!1;this.endFlag=!0;new Image(1,1);this.lastTime=(new Date).getTime();var t={};t.id=this.id,t.i_time=Math.floor(this.initTime),t.s_time=Math.floor(this.startTime),t.url=this.url,t.subject=this.subject,t.rand=this.rand,t.stay_sec=Math.floor(this.getPeriod()/100);var o=this.lastClickHref;t.href=o,t.dpr=this.dpr,t.smp=this.getStartMousePosition(),t.mt=this.mouseTimes,t.mouse=this.getMousePositions(),t.mwu=this.mouseWheelUp,t.mwd=this.mouseWheelDown,t.mp=this.getDynMousePositions(),this.domList(this.formDomList,"form",["INPUT","SELECT","TEXTAREA","LABEL"]),t.form=this.getForm(),t.dom=this.getDom(),t.submit_f=this.formSubmitAction;var n=this.getWindowSize();t.bw=n.width,t.bh=n.height;var i=this.getScreenSize();t.sw=i.width,t.sh=i.height,t.form_f=this.checkSetForm,t.ref=document.referrer;var s=r.stringify(t);if(window.FormData&&!Userlocal.Entry.Browser.IE){navigator.sendBeacon||(navigator.sendBeacon=function(e,t){var o=!1;if(window.XMLHttpRequest)o=new XMLHttpRequest;else if(window.ActiveXObject)try{o=new ActiveXObject("Msxml2.XMLHTTP")}catch(r){o=new ActiveXObject("Microsoft.XMLHTTP")}return o.open("POST",e,!1),o.setRequestHeader("Accept","*/*"),"string"==typeof t?(o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),o.responseType="text/plain"):"[object Blob]"===Object.prototype.toString.call(t)&&t.type&&o.setRequestHeader("Content-Type",t.type),o.send(t),!0});var a=new FormData;a.append("json",r.stringify(t)),navigator.sendBeacon(this.image_url,a)}else{var c=new Image(1,1);c.onload=function(){};var l="https:"==document.location.protocol?"https:":"http:";c.src=l+this.image_url+"?json="+encodeURIComponent(s)}},function(){var e=window.UserHeatTag,t=window[e].q[0][0],o=window[e].l,r=null,n=null,i=null;if(t.id&&(r=t.id),t.url&&(n=t.url),t.subject&&(i=t.subject),r){var s=new Userlocal.Entry(r,o,n,i);s.init()}}()},{"./lib/json3.min.js":1}]},{},[2]);