<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Fade demo</title>

<script type="text/javascript" src="general_lib.js"></script>

<style type="text/css">
#container {
	width: 600px;
	margin: auto;
	border: 1px solid #7a7a7a;
}

#mainimg {
	/* visibility: hidden; */
}

</style>

</head>

<body>

<div id="container">
	<div id="mainimg">
    	<img src="chicago.jpg" width="599" height="400" />
    </div>
</div>

<script type="text/javascript">
var Registry = new Object();

function init() {
	Registry.mainDiv = document.getElementById("mainimg");
	
	// enable opacity filter on selector
	OpacElem.setAlpha('mainimg');
	
	OpacElem.setOpacity(Registry.mainDiv, 0);
	Registry.currentOpacity = 0;
	
	Registry.mainDiv.onmouseover = function() {
		clearInterval(Registry.fadeInterval); // clear any existing fade in progress
		Registry.fadeInterval = setInterval("fadeIn()", 5);
		//OpacFader.initFade(Registry.mainDiv, 0, 100, 2, 5);
		//OpacFader.startFade();
	};
	
	Registry.mainDiv.onmouseout = function() {
		clearInterval(Registry.fadeInterval); // clear any existing fade in progress
		Registry.fadeInterval = setInterval("fadeOut()", 5);
	};
	
}

function fadeIn() {
	Registry.currentOpacity += 2;
	if (Registry.currentOpacity > 100) {
		Registry.currentOpacity = 100;
		clearInterval(Registry.fadeInterval);
	}
	OpacElem.setOpacity(Registry.mainDiv, Registry.currentOpacity);
}

function fadeOut() {
	Registry.currentOpacity -= 2;
	if (Registry.currentOpacity < 0) {
		Registry.currentOpacity = 0;
		clearInterval(Registry.fadeInterval);
	}
	OpacElem.setOpacity(Registry.mainDiv, Registry.currentOpacity);
}

window.onload = init;
</script>

</body>
</html>












